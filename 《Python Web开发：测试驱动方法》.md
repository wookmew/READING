> 照着书上例子敲，但感觉TDD自己只是明白到了概念，但具体的思想，如何去一步步实现还不知道。比如往数据库中插入数据，测试的时候我模拟插入一些数据，看看效果。不知道是TDD的话，该如何去做。本书从Django入手，给予了我很多角度的思考。前方的路还很长，加油。  


- TDD：先测试，后开发。  

- 单元测试和功能测试的区别：功能测试站在用户的角度从外部开始测试，单元测试则站在程序员的角度从内部测试应用。  

- 作者遵从TDD方法同时使用这两种类型测试应用，大体流程如下：  
&emsp;1.先写测试功能，从用户角度描述应用新功能；  
&emsp;2.功能测试失败后，进行新功能的编码，并写上相应的单元测试。如果代码需要重构，那么需要用功能测试检查重构前后的表现是否一致；  
&emsp;3.单元测试失败后，编写最少量的应用代码，刚好让单元测试通过。有时候，第2步和第3步要重复。  
&emsp;4.然后，进行功能测试。  
&emsp;即功能测试站在高层驱动，单元测试从低层驱动。  

- Django大致的工作流程：  
&emsp;1.针对某个URL的HTTP请求进入；  
&emsp;2.Django使用一些规则决定由哪个试图函数处理这个请求（解析URL）；  
&emsp;3.选中的视图函数处理请求，然后返回HTTP响应；  

- 单元测试要测试的其实是逻辑，流程控制和配置，不对**常量**进行测试。“设置配置-执行代码-编写断言”是单元测试的典型结构。  

- 有用的TDD概念  
&emsp;1. 回归  
&emsp;&emsp;新添加的代码破坏了应用原本可以正常使用的功能；  
&emsp;2. 意外失败  
&emsp;&emsp;测试帮我们发现了一个回归，因此要在代码中修正。  
&emsp;3. 单元测试/ 编写代码”循环有时也叫“遇红/ 变绿/ 重构“：  
&emsp;&emsp;a. 先写一个会失败的单元测试（遇红）；  
&emsp;&emsp;b. 编写尽可能简单的代码让测试通过（变绿），就算作弊也行；  
&emsp;&emsp;c. 重构，改进代码，让其更合理。  
&emsp;4. 三角法  
&emsp;&emsp;添加一个测试，专门为某些现有的代码编写用例，以此推断出普适的实现方法(在此之前的实现方式可能作弊了)  
&emsp;5. 事不过三，三则重构  
&emsp;&emsp;判断何时删除重复代码时使用的经验法则。如果两段代码很相似，往往还要等到第三段相思代码出现，才能确定重构时哪一部分是真正共通，可重用的。  
&emsp;6. 记在便签上的待办事项清单  

- 必要时做少量设计  
TDD和软件开发中的敏捷运动联系紧密。  
敏捷理念则认为，在实践中解决问题比理论分析能学到更多，而且应该让应用尽早接受真实用户的检验效果更好。另一个信条为“YAGNI”，即你不需要这个。  

- REST  
“表现层状态转化”（Representational State Transfer，REST）是Web 设计的一种方式，经
常用来引导基于Web 的API 设计。 

- 使用过度网站测试部署大体思路：  
&emsp;1. 修改功能测试  
&emsp;2. 架设服务器，安装全部所需软件，再把过渡和线上环境使用的域名指向这个服务器；  
&emsp;3. 使用Git把代码上传到服务器；  
&emsp;4. 使用Django开发服务器在过渡环境的域名下尝试运行过渡网站；  
&emsp;5. 学习如何在服务器中使用virtualenv管理项目的Python依赖；  
&emsp;6. 让功能测试一直运行着，告诉我们哪些功能可以正常运行那些不能；  
&emsp;7. 使用Gunicorn，Upstart和域套接字配置过渡网站，以便能在生产环境中使用；  
&emsp;8. 配置好之后，编写一个脚本，自动执行前面手动完成的操作，这样以后就能自动部署网站了；  
&emsp;9. 最后，使用自动化脚本把网站的生产版本部署到真正的域名下；  

- 测试失败时别重构：  
&emsp;1. 一般如此；  
&emsp;2. 不算正在处理的功能测试；  
&emsp;3. 如果测试的对象还没有实现，可以先在测试方法加上@skip修饰器；  
&emsp;4. 更一般的做法是，记下想要重构的地方，完成手头上的活，等应用处于可正常运行的状态再重构；  
&emsp;5. 提交代码前不要忘记删掉所有的@skip修饰器。  

- 由外而内的TDD  
&emsp;1. 由外而内的TDD  
&emsp;&emsp;一种编写代码的方法，由测试驱动，从外层开始(表现层，GUI)，然后逐步向内层移动，通过视图层或控制器层，最终达到模型层。这种方法的理念是由实际需要使用的功能驱动代码的编写，而不是在低层猜测需求。  
&emsp;2. 一厢情愿式编程  
&emsp;&emsp;由外而内的过程有时也叫“一厢情愿式编程”。其实，任何TDD形式都涉及一厢情愿。我们总是为还未实现的功能编写测试。  
&emsp;3. 由外而内技术的缺点  
&emsp;&emsp;由外而内技术也不是万能良药。这种技术鼓励我们关注用户立即就能看到的功能，但不会自动提醒我们为不是那么明显的功能编写关键测试，例如安全相关的功能。你自己要记得编写这些测试。  
